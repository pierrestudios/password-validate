import{jsxs as n,jsx as r}from"react/jsx-runtime";import e from"react";import o from"styled-components";var i=function(){return i=Object.assign||function(n){for(var r,e=1,o=arguments.length;e<o;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n},i.apply(this,arguments)};function t(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n}var a,d,l,s,p,c,f,u=o.div(a||(a=t(["\n  display: block;\n  font-family: Arial, Helvetica sans-serif;\n"],["\n  display: block;\n  font-family: Arial, Helvetica sans-serif;\n"]))),m=o.div(d||(d=t(["\n  display: flex;\n  flex-direction: column;\n  margin: 10px 0;\n"],["\n  display: flex;\n  flex-direction: column;\n  margin: 10px 0;\n"]))),b=o.div(l||(l=t(["\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin: 20px 0 10px;\n"],["\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin: 20px 0 10px;\n"]))),v=o.button(s||(s=t(["\n  background-color: #0db09b;\n  color: #fff;\n  font-size: 1em;\n  margin: 1em 0;\n  padding: 0.5em 1em;\n  border: 2px solid #0db09b;\n  border-radius: 3px;\n"],["\n  background-color: #0db09b;\n  color: #fff;\n  font-size: 1em;\n  margin: 1em 0;\n  padding: 0.5em 1em;\n  border: 2px solid #0db09b;\n  border-radius: 3px;\n"]))),h=o(m)(p||(p=t(["\n  border: solid #f4d2d2 2px;\n  color: red;\n  padding: 5px 10px;\n"],["\n  border: solid #f4d2d2 2px;\n  color: red;\n  padding: 5px 10px;\n"]))),x=o.label(c||(c=t(["\n  margin-bottom: 5px;\n"],["\n  margin-bottom: 5px;\n"]))),g=o.input(f||(f=t(["\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  height: 40px;\n  padding: 2px 10px;\n"],["\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  height: 40px;\n  padding: 2px 10px;\n"]))),w=[{label:"6 or more characters",id:1,validator:function(n){return n.length>=6}},{label:"At least 1 number",id:2,validator:function(n){return n.split("").filter((function(n){return Number.isInteger(parseInt(n))})).length>0}},{label:"At least 1 uppercase char",id:3,validator:function(n){return n.replace(/[^a-z]/gim,"").split("").filter((function(n){return n.toUpperCase()===n})).length>0}},{label:"At least 1 lowercase char",id:4,validator:function(n){return n.split("").filter((function(n){return n.toLowerCase()===n})).length>0}},{label:"At least 1 special character (!@#$%^&*()_-+={[}]|:;\"'<,>.)",id:5,validator:function(n){return n.split("").filter((function(n){return-1!=="!@#$%^&*()_-+={[}]|:;\"'<,>.".indexOf(n)})).length>0}},{label:"To match password confirm",id:6,validatorConfirm:function(n,r){return!!n&&n===r}}];var y=e.forwardRef((function(o,t){var a=o.label,d=void 0===a?"Enter password":a,l=o.label_confirm,s=void 0===l?"Confirm password":l,p=o.onValidate,c=void 0===p?function(n,r){}:p,f=o.autorun,y=void 0!==f&&f,C=e.useState(""),k=C[0],O=C[1],j=e.useState(""),A=j[0],P=j[1],z=e.useState(null),I=z[0],F=z[1],S=function(n){var r,e,o=n.currentTarget;if("password-confirm"===o.name)P(o.value),e=o.value;else O(o.value),r=o.value;if(y){var i=_({password:r||k,passwordConfirm:e||A});c(i,r||k)}},_=function(n){var r=n.password,e=n.passwordConfirm;F([]);var o=function(n,r){return void 0===n&&(n=""),void 0===r&&(r=""),w.filter((function(e){return"function"==typeof e.validatorConfirm?!1===e.validatorConfirm(n,r):"function"==typeof e.validator&&!1===e.validator(n)})).map((function(n){return{id:n.id,label:n.label}}))}(r,e);return F(o),0===Object.keys(o).length};return n(u,{children:[n(m,{children:[r(x,i({htmlFor:"password"},{children:d})),r(g,{id:"password","data-testid":"test-password",name:"password",type:"password",placeholder:"".concat(d,"..."),onInput:S,value:k})]}),n(m,{children:[r(x,i({htmlFor:"password-confirm"},{children:s})),r(g,{id:"password-confirm","data-testid":"test-password-confirm",name:"password-confirm",type:"password",placeholder:"".concat(s,"..."),onInput:S,value:A})]}),n(u,{children:[I&&0===I.length?r(b,{children:"Your password entry is valid"}):null,I&&I.length?r(b,{children:"Please check your password entry. Password needs:"}):null,I&&I.map((function(n){return r(h,{children:n.label},n.id)}))]}),r(u,{children:r(v,i({onClick:function(){var n=_({password:k,passwordConfirm:A});c(n,k)}},{children:"Validate"}))})]})}));y.displayName="PasswordField";export{y as PasswordField};
//# sourceMappingURL=index.js.map
